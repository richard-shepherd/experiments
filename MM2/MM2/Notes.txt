TODO
----
- Handle client connection failure, eg if gateway is not running

- Think about use of std::string. We want to encode strings as UTF-8

- Add getField() methods to Message

- Replace enum with enum class

- Handle fast producers and slow consumers







